---
title: 3.CSS æ ·å¼ï¼šç”¨ UnoCSS å®ç°åŸå­åŒ– CSS
createTime: 2024/10/06 18:42:31
permalink: /widget/3/
---

ç›¸ä¿¡å¤§å®¶åœ¨æŒ‘é€‰ç»„ä»¶åº“çš„æ—¶å€™ï¼Œæ ·å¼é£æ ¼éƒ½æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„è€ƒé‡ç›®æ ‡ã€‚

æœ¬èŠ‚çš„ä»»åŠ¡æ˜¯ç»™ç»„ä»¶åº“æ·»åŠ æ ·å¼ç³»ç»Ÿï¼Œè®©ç»„ä»¶åº“å¯ä»¥æ‹¥æœ‰ä¸€å¥—ç»Ÿä¸€é£æ ¼çš„æ ·å¼ã€‚

å…ˆçœ‹çœ‹æˆå“çš„æ•ˆæœã€‚

![ç»„ä»¶é¢„è§ˆ](./FILES/eccbc87e/d9c857db.png)

## ç”¨æˆ·æ•…äº‹ (UserStory)

é€šè¿‡ UnoCSS ä¸ºç»„ä»¶åº“æ·»åŠ æ ·å¼ç³»ç»Ÿï¼Œå¯ä»¥é€šè¿‡å±æ€§å®šåˆ¶ç»„ä»¶æ ·å¼ã€‚

## ä»»åŠ¡åˆ†è§£ (Task)

- å¼•å…¥ UnoCSS æ ·å¼ï¼›
- å®ç°ç»„ä»¶å±æ€§å®šåˆ¶æŒ‰é’®æ ·å¼ï¼›
- å®ç° Icon å›¾æ ‡æŒ‰é’®ï¼›

## Atomic/Utility-First CSS ä¸ Semantic CSS çš„é€‰æ‹©

æ¯ä¸ªç»„ä»¶åº“éƒ½æœ‰ä¸€å¥—å®Œå¤‡çš„æ ·å¼ç³»ç»Ÿï¼Œç¡®ä¿ç»„ä»¶æ ·å¼é£æ ¼çš„ç»Ÿä¸€ã€‚ç»å…¸çš„ç»„ä»¶åº“ (ElementUI) çš„æ ·å¼ç³»ç»Ÿéƒ½æ˜¯éµå¾ª Semantic CSS (è¯­ä¹‰åŒ– CSS ) æ­å»ºçš„ã€‚

ç»„ä»¶åº“é€šå¸¸éƒ½éœ€è¦æ­å»ºä¸€ä¸ª CSS å­å·¥ç¨‹ï¼Œç”¨äºå®ç°è‡ªå·±çš„ç±»å‹ç³»ç»Ÿã€‚æ¯”å¦‚ Element å°±æ˜¯åŸºäº Sass + Gulp æ­å»ºçš„ã€‚ä¸è¿‡éšç€åŸå­æ ·å¼çš„å‡ºç°ï¼Œæœ‰äº†ä¸€äº›æ›¿ä»£æ–¹æ¡ˆï¼Œæ— éœ€æ­å»ºæ ·å¼ç³»ç»Ÿä¹Ÿå¯ä»¥å®Œæˆç±»ä¼¼æ•ˆæœã€‚

é¦–å…ˆå…ˆç®€å•ä»‹ç»åŸå­æ ·å¼æ˜¯ä»€ä¹ˆã€‚

2020 å¹´ä¸€ç§å«åš **Atomic CSS** çš„ç»„ä»¶é£æ ¼æ¨ªç©ºå‡ºä¸–ï¼Œä»£è¡¨ä½œå°±æ˜¯ **TailwindCSS**ã€‚æœ€è¿‘ä¸¤å¹´ï¼ŒTailwindCSS ä¸€ç›´ä¿æŒé«˜çƒ­åº¦ã€‚

å¯ä»¥çœ‹ä¸€ä¸‹ Vite çš„ç¤¾åŒºæ¨¡æ¿åº“ï¼Œtailwind å‡ ä¹å°±æ˜¯æ ‡é…ã€‚

https://github.com/vitejs/awesome-vite#templates

![](./FILES/eccbc87e/cbc56524.png)

ä»ç»„ä»¶åº“å¼€å‘è§’åº¦è®²ï¼Œä½¿ç”¨ Tailwind æä¾›çš„æ ·å¼ç³»ç»Ÿï¼Œå¯ä»¥å¾ˆå¥½åœ°é™ä½ UI åº“çš„å¼€å‘éš¾åº¦ã€‚åˆ©ç”¨åŸå­åŒ–é£æ ¼ï¼Œå°±å¯ä»¥é«˜æ•ˆå®Œæˆæ ·å¼çš„å®šåˆ¶ï¼Œæœªå¿…ä¸€å®šéœ€è¦å®šåˆ¶ä¸€å¥—è¯­ä¹‰åŒ–æ ·å¼ç³»ç»Ÿã€‚

## ä¸ºä»€ä¹ˆé€‰ UnoCSS å®ç° AtomicCSSï¼Ÿ

[UnoCSS çš„ github åœ°å€](https://github.com/unocss/unocss)

åŸå­æ ·å¼ä¹Ÿæœ‰å¾ˆå¤šé€‰æ‹©ï¼Œæœ€è‘—åçš„å°±æ˜¯ Tailwindã€‚ Tailwind è™½ç„¶å¥½ï¼Œä½†æ˜¯æ€§èƒ½ä¸Šæœ‰ä¸€äº›ä¸è¶³ã€‚ç”±äº Tailwind ä¼šç”Ÿæˆå¤§é‡æ ·å¼å®šä¹‰ã€‚å…¨é‡çš„ CSS æ–‡ä»¶å¾€å¾€ä½“ç§¯ä¼šå¤šè‡³æ•° MBã€‚è¿™ä¸ªå¯¹äºé¡µé¢æ€§èƒ½æ˜¯å®Œå…¨ä¸å¯æ¥å—çš„ã€‚å¦‚æœåœ¨å¼€å‘æ—¶è¿›è¡ŒåŠ¨æ€åœ°æŒ‰éœ€å‰ªè£ï¼Œåˆä¼šå½±å“ç¼–è¯‘æ€§èƒ½ï¼Œé™ä½å¼€å‘ä½“éªŒã€‚

ä¸ºäº†è§£å†³æ€§èƒ½é—®é¢˜ï¼Œå¼€æºç•Œçš„ Antfu å¤§ç¥è®¾è®¡äº† UnoCSSã€‚**UnoCSS æ˜¯ä¸€ä¸ªæ‹¥æœ‰é«˜æ€§èƒ½ä¸”å…·çµæ´»æ€§çš„å³æ—¶åŸå­åŒ– CSS å¼•æ“ï¼Œå¯ä»¥å…¼é¡¾äº§ç‰©ä½“ç§¯å’Œå¼€å‘æ€§èƒ½ã€‚**

é™¤æ­¤ä»¥å¤–ï¼ŒUnoCSS è¿˜å¯ä»¥æœ‰æ›´å¼ºçš„å¯å®šåˆ¶æ€§å’Œæ˜“ç”¨æ€§ã€‚

- [å®Œå…¨å¯å®šåˆ¶](https://github.com/unocss/unocss#configurations) - æ²¡æœ‰æ ¸å¿ƒå®ç”¨ç¨‹åºï¼Œæ‰€æœ‰åŠŸèƒ½éƒ½é€šè¿‡é¢„è®¾æä¾›
- æ— éœ€è§£æã€æ— éœ€ ASTã€æ— éœ€æ‰«æï¼Œå®ƒæ˜¯å³æ—¶çš„ï¼ˆæ¯” Windi CSS æˆ– Tailwind JIT å¿« 200 å€ï¼‰
- ~3.5kb min+gzip - é›¶ä¾èµ–å’Œæµè§ˆå™¨å‹å¥½
- [å¿«æ·æ–¹å¼](https://github.com/unocss/unocss#shortcuts) - åŠ¨æ€åˆ«åå®ç”¨ç¨‹åº
- [å±æ€§æ¨¡å¼](https://github.com/unocss/unocss/tree/main/packages/preset-attributify) - åœ¨å±æ€§ä¸­åˆ†ç»„å®ç”¨ç¨‹åº
- [çº¯ CSS å›¾æ ‡](https://github.com/unocss/unocss/tree/main/packages/preset-icons) - ä½¿ç”¨ä»»ä½•å›¾æ ‡ä½œä¸ºå•ä¸ªç±»
- [æ£€æŸ¥å™¨](https://github.com/unocss/unocss#inspector) - ä»¥äº¤äº’æ–¹å¼æ£€æŸ¥å’Œè°ƒè¯•
- [CSS-in-JS è¿è¡Œæ—¶ç‰ˆæœ¬](https://github.com/unocss/unocss/tree/main/packages/runtime)
- [CSS Scoping](https://github.com/unocss/unocss#css-scoping)
- CSS ä»£ç æ‹†åˆ† - ä¸º MPA æä¾›æœ€å°çš„ CSS
- åº“å‹å¥½ - éšä½ çš„ç»„ä»¶åº“æä¾›åŸå­æ ·å¼å¹¶å®‰å…¨åœ°é™å®šèŒƒå›´ã€‚

å¦å¤–ï¼Œ Vite çš„è‰¯å¥½æ”¯æŒä¹Ÿæ˜¯é€‰æ‹© UnoCSS çš„ä¸€ä¸ªé‡è¦åŸå› ï¼Œ UnoCSS ä¹Ÿå¯ä»¥ç®—æ˜¯ Vite ç¤¾åŒºçš„ä¸€ä¸ªé‡è¦çš„äº§å“ã€‚

## åŠŸèƒ½å®ç°

https://github.com/unocss/unocss

### å¼•å…¥ UnoCSS

é¦–å…ˆé€šè¿‡ Vite æ’ä»¶çš„å½¢å¼å¼•å…¥ UnoCSS

å…ˆå®‰è£… UnoCSS

```bash
pnpm i -D unocss
pnpm i -D @iconify-json/ic
```

0.60 ç‰ˆæœ¬ä¹‹åçš„ unocs åªæ”¯æŒ esmï¼Œæ‰€ä»¥è¦åœ¨ package.json é‡Œæ·»åŠ 

"type": "module"

ä¿®æ”¹ vite.config.tsï¼Œæ·»åŠ  UnoCSS æ’ä»¶

```typescript{5-6,21-23}
import { defineConfig } from "vite";
import vue from "@vitejs/plugin-vue";
import vueJsx from "@vitejs/plugin-vue-jsx";

import { presetUno, presetAttributify, presetIcons } from "unocss";
import Unocss from "unocss/vite";

const rollupOptions = {
  external: ["vue", "vue-router"],
  output: {
    globals: {
      vue: "Vue",
    },
  },
};

export default defineConfig({
  plugins: [
    vue(),
    vueJsx(),
    Unocss({
      presets: [presetUno(), presetAttributify(), presetIcons()],
    }),
  ],
  build: {
    rollupOptions,
    minify: false,
    // æ·»åŠ åº“æ¨¡å¼é…ç½®
    lib: {
      entry: "./src/entry.ts",
      name: "SSYUI",
      fileName: "ssy-ui",
      // å¯¼å‡ºæ¨¡å—æ ¼å¼
      formats: ["es", "umd", "iife"],
    },
  },
});
```

ç„¶åå°±å¯ä»¥åœ¨æ’ä»¶ä¸­å¼•å…¥ UnoCSS äº†ã€‚åŠ è½½ Unocss æ’ä»¶åï¼ŒVite ä¼šé€šè¿‡åˆ†æ class çš„ä½¿ç”¨çŠ¶å†µæä¾›ç›¸åº”çš„æ ·å¼å®šä¹‰ã€‚

æˆ‘ä»¬åœ¨ Button ç»„ä»¶ä¸­å¼•å…¥ UnoCSS;

VSCode æ·»åŠ  UnoCSS æ’ä»¶ï¼Œä¸”åœ¨ settings.json é‡Œè®¾ç½®æ¨¡ç³ŠåŒ¹é…æ–¹ä¾¿ç»™å‡ºæ ·å¼æç¤º

```json
{
  "unocss.autocomplete.matchType": "fuzzy" // unocss æ¨¡ç³ŠåŒ¹é…
}
```

å°† src/button/index.ts é‡å‘½åä¸º src/button/index.tsx

![](./FILES/eccbc87e/e938ff09.png)

ç„¶ååœ¨ src/index.ts ä¸­æ·»åŠ æµ‹è¯•ä»£ç ï¼š

![](./FILES/eccbc87e/36d074e4.png)

æœ€ç»ˆå‘ˆç°çš„æ•ˆæœï¼š

![](./FILES/eccbc87e/8ac88834.png)

åˆ°æ­¤ä¸ºæ­¢ï¼Œ UnoCSS å°±å·²ç»æ­£å¸¸å¼•å…¥äº†ã€‚

:::warning
å¦‚æœç”¨äº†è¾ƒé«˜ç‰ˆæœ¬çš„ vueï¼Œä¼šå‡ºç°ä¸‹é¢çš„æŠ¥é”™ï¼Œtemplate å£°æ˜çš„éƒ¨åˆ†æ— æ³•æ¸²ç„¶![](./FILES/eccbc87e/bace069c.png)

éœ€è¦åœ¨ vite.config.ts é‡Œè®¾ç½® vue åˆ«å

```typescript{2-6}
export default defineConfig({
  resolve: {
    alias: {
      vue: "vue/dist/vue.esm-bundler",
    },
  },
});
```

:::

### å®ç°ç»„ä»¶å±æ€§å®šåˆ¶æŒ‰é’®æ ·å¼

æ¥ä¸‹æ¥è¦å®ç°æ ¹æ®å±æ€§å®šåˆ¶æŒ‰é’®æ ·å¼åŠŸèƒ½ã€‚æ¯”å¦‚ï¼Œé€šè¿‡ color å±æ€§æ¥å®šåˆ¶é¢œè‰²ã€‚

é¦–å…ˆéœ€è¦å®šä¹‰ç»„ä»¶çš„å±æ€§ç±»å‹ï¼Œç„¶åå°±å¯ä»¥ç”¨å±æ€§å˜é‡æ¥æ‹¼è£… UnoCSS äº†ï¼Œæ„Ÿå—åˆ°åŸå­ CSS çš„å¥½å¤„ã€‚

åŸºæœ¬å¸¸ç”¨çš„å±æ€§å®šä¹‰éƒ½å¯ä»¥é€šè¿‡ç®€å•çš„å­—ç¬¦ä¸²æ‹¼è£…å®Œæˆï¼Œæˆ‘ä»¬ä¿®æ”¹ button/index.tsx å¦‚ä¸‹ï¼š

![](./FILES/eccbc87e/104234ce.png)

åœ¨ src/index.ts ä¸­ä½¿ç”¨ç”¨å„ç§ button é¢œè‰²ï¼š

![](./FILES/eccbc87e/f2370c39.png)

**é‡å¯é¡¹ç›®**ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š

![](./FILES/eccbc87e/9e3c6f61.png)

ä¸ºä»€ä¹ˆæ²¡æœ‰é¢œè‰²å‘¢ï¼Ÿ

ä¸»è¦åŸå› æ˜¯ **UnoCSS é»˜è®¤æ˜¯æŒ‰éœ€ç”Ÿæˆæ–¹å¼**ï¼Œä¹Ÿå°±æ˜¯è¯´åªç”Ÿæˆä»£ç ä¸­ä½¿ç”¨è¿‡çš„æ ·å¼ã€‚å¦‚æœåœ¨ class å±æ€§ä¸­ä½¿ç”¨å˜é‡ï¼Œæ˜¯æ— æ³•åˆ†æå˜é‡çš„å–å€¼çš„ï¼Œæ‰€ä»¥å°±æ— æ³•åŠ¨æ€ç”Ÿæˆæ ·å¼äº†ã€‚

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒUnoCSS æä¾›äº†å®‰å…¨åˆ—è¡¨é€‰é¡¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠŠæ ·å¼å®šä¹‰ä¸­å˜é‡çš„å–å€¼æ·»åŠ åˆ° Safelist ä¸­å»ï¼Œè¿™æ · UnoCSS å°±ä¼šæ ¹æ® Safelist ç”Ÿæˆæ ·å¼äº†ã€‚

![](./FILES/eccbc87e/3835b9cc.png)

æ¥ä¸‹æ¥å¼€å§‹å®šåˆ¶å®‰å…¨åˆ—è¡¨ã€‚å®‰å…¨åˆ—è¡¨å±æ€§åº”è¯¥å®šä¹‰åœ¨ UnoCSS æ’ä»¶çš„é…ç½®ä¸­ã€‚

è¿™è¾¹è¦åšä¸€ä¸ªé…ç½®ä¸Šçš„é‡æ„ï¼šè€ƒè™‘åˆ°åç»­ä¼šåœ¨ Safelist ä¸­æ·»åŠ å¤§é‡é…ç½®ï¼Œæ‰€ä»¥æˆ‘ä»¬å°† UnoCSS é…ç½®æ‹†æˆä¸€ä¸ªæ–°çš„ ts æ¨¡å—ï¼Œç„¶åå¼•ç”¨åˆ° vite.config.ts ä¸­ã€‚

é¡¹ç›®åœ¨æ­å»ºçš„è¿‡ç¨‹ä¸­ä¼šä¸æ–­åœ°è¿›è¡Œé‡æ„ã€‚åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œè¦ç§¯ææ€è€ƒå¦‚ä½•ç¼–å†™æ›´åˆç†æ˜“äºç»´æŠ¤çš„ä»£ç ã€‚

é¡¹ç›®æ ¹ç›®å½•ï¼Œæ–°å»º config/unocss.tsï¼Œå¦‚ä¸‹ï¼š

```tsx :collapsed-lines=8
import { presetUno, presetAttributify } from "unocss";
import Unocss from "unocss/vite";

const colors = [
  "white",
  "black",
  "gray",
  "red",
  "yellow",
  "green",
  "blue",
  "indigo",
  "purple",
  "pink",
];
const safelist = [
  ...colors.map((v) => `bg-${v}-100`),
  ...colors.map((v) => `bg-${v}-400`),
  ...colors.map((v) => `bg-${v}-500`),
  ...colors.map((v) => `hover:bg-${v}-100`),
  ...colors.map((v) => `hover:bg-${v}-300`),
  ...colors.map((v) => `hover:bg-${v}-400`),
  ...colors.map((v) => `hover:bg-${v}-500`),
  ...colors.map((v) => `border-${v}-400`),
  ...colors.map((v) => `border-${v}-500`),
  ...colors.map((v) => `text-${v}-500`),
  ...colors.map((v) => `hover:text-${v}-500`),
  "text-white",
  ...Array.from({ length: 8 }, (_, i) => `px-${i + 1}`),
  ...Array.from({ length: 8 }, (_, i) => `py-${i + 1}`),
  ...["xs", "sm", "base", "lg", "xl", "2xl", "3xl"].map((v) => `text-${v}`),
  ...["rounded-full", "rounded-lg"],
];

export default () =>
  Unocss({
    safelist,
    presets: [presetUno(), presetAttributify()],
  });
```

å°† vite.config.ts ä¸­å…³äº Unocss çš„é…ç½®ä¿®æ”¹å¦‚ä¸‹ï¼š

![](./FILES/eccbc87e/4ec623fb.png)

ç¼¤çº·çš„é¢œè‰²å°±å‡ºç°äº†å•¦ï½

![](./FILES/eccbc87e/aeaa4f7e.png)

ä½¿ç”¨åŒæ ·çš„æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥ç»™æŒ‰é’®å®šåˆ¶å„ç§æ ·å¼ï¼Œå¢åŠ å°ºå¯¸ã€æ˜¯å¦åœ†è§’ã€æ˜¯å¦æ‰å¹³ç­‰å±æ€§ï¼Œå®Œæ•´çš„ button/index.tsx å¦‚ä¸‹ï¼š

```tsx :collapsed-lines=8
import { defineComponent, PropType } from "vue";
import "uno.css";

export type ISize = "small" | "medium" | "large";
export type IColor =
  | "black"
  | "gray"
  | "red"
  | "yellow"
  | "green"
  | "blue"
  | "indigo"
  | "purple"
  | "pink";

export const props = {
  // é¢œè‰²
  color: {
    type: String as PropType<IColor>,
    default: "blue",
  },

  // å°ºå¯¸
  size: {
    type: String as PropType<ISize>,
    default: "medium",
  },

  // æ˜¯å¦åœ†è§’
  round: {
    type: Boolean,
    default: false,
  },

  // æ˜¯å¦æ‰å¹³
  plain: {
    type: Boolean,
    default: false,
  },
} as const;

export default defineComponent({
  name: "SButton",
  props,
  setup(props, { slots }) {
    console.log(`html`, document.querySelector(`#app`)?.innerHTML);

    const size = {
      small: {
        x: "2",
        y: "1",
        text: "sm",
      },
      medium: {
        x: "3",
        y: "1.5",
        text: "base",
      },
      large: {
        x: "4",
        y: "2",
        text: "lg",
      },
    };

    return () => (
      <button
        class={`
          py-${size[props.size].y}
          px-${size[props.size].x}
          ${props.round ? "rounded-full" : "rounded-lg"}
          bg-${props.color}-${props.plain ? "100" : "500"}
          hover:bg-${props.color}-400
          border-${props.color}-${props.plain ? "500" : "500"}
          cursor-pointer
          border-solid
          text-${props.plain ? props.color + "-500" : "white"}
          text-${size[props.size].text}
          hover:text-white
          transition duration-300 ease-in-out transform hover:scale-105
          mx-1
          `}
      >
        {slots.default ? slots.default() : ""}
      </button>
    );
  },
});
```

åœ¨ src/index.ts åˆ›å»ºå„ç§æŒ‰é’®ï¼š

```typescript :collapsed-lines=8
import { createApp } from "vue/dist/vue.esm-browser";
import SSYUI from "./entry";

createApp({
  template: `
    <div style="margin-bottom:20px;">
        <SButton color="blue">ä¸»è¦æŒ‰é’®</SButton>
        <SButton color="green">ç»¿è‰²æŒ‰é’®</SButton>
        <SButton color="gray">ç°è‰²æŒ‰é’®</SButton>
        <SButton color="yellow">é»„è‰²æŒ‰é’®</SButton>
        <SButton color="red">çº¢è‰²æŒ‰é’®</SButton>
    </div>
    <div style="margin-bottom:20px;">
        <SButton color="blue" plain>æœ´ç´ æŒ‰é’®</SButton>
        <SButton color="green" plain>ç»¿è‰²æŒ‰é’®</SButton>
        <SButton color="gray" plain>ç°è‰²æŒ‰é’®</SButton>
        <SButton color="yellow" plain>é»„è‰²æŒ‰é’®</SButton>
        <SButton color="red" plain>çº¢è‰²æŒ‰é’®</SButton>
    </div>
    <div style="margin-bottom:20px;">
        <SButton size="small" plain>å°æŒ‰é’®</SButton>
        <SButton size="medium" plain>ä¸­æŒ‰é’®</SButton>
        <SButton size="large" plain>å¤§æŒ‰é’®</SButton>
    </div>
    <div style="margin-bottom:20px;">
        <SButton color="blue" round plain>æœç´¢æŒ‰é’®</SButton>
        <SButton color="green" round plain>ç¼–è¾‘æŒ‰é’®</SButton>
        <SButton color="gray" round plain>æˆåŠŸæŒ‰é’®</SButton>
        <SButton color="yellow" round plain>æç¤ºæŒ‰é’®</SButton>
        <SButton color="red" round plain>åˆ é™¤æŒ‰é’®</SButton>
    </div>
  `,
})
  .use(SSYUI)
  .mount("#app");
```

æ•ˆæœå¦‚ä¸‹ï¼š

![](./FILES/eccbc87e/e2340f30.png)

### å›¾æ ‡æŒ‰é’®çš„å®ç°

æ¥ä¸‹æ¥è¦ç»™æŒ‰é’®å¢åŠ å›¾æ ‡å®šåˆ¶åŠŸèƒ½ã€‚

é¦–å…ˆéœ€è¦å¼•å…¥å­—ä½“å›¾æ ‡åº“ã€‚

åœ¨ UnoCSS ä¸­å¼•å…¥å›¾æ ‡ï¼Œåªéœ€è¦åŠ è½½ @unocss/preset-icons é¢„è®¾å°±å¯ä»¥äº†ã€‚å®ƒæä¾›äº† iconify å›¾æ ‡æ¡†æ¶ä¸­å¤§é‡çš„å›¾è¡¨é›†ã€‚

åœ¨ [iconfy](https://icones.js.org/) ç½‘ç«™ä¸­æœ‰ä¸Šä¸‡ä¸ªå­—ä½“å›¾æ ‡å¯ä»¥é€‰æ‹©ã€‚

![](./FILES/eccbc87e/ffeb999d.png)

å¦‚æœä½ æƒ³ä½¿ç”¨ä¸€ä¸ª ã€ ğŸ” ã€‘ æœç´¢ï¼Œå¯ä»¥åœ¨ [iconfy](https://icones.js.org/) é€‰æ‹©ä¸€ä¸ªä½ å–œæ¬¢çš„å­—ä½“å›¾æ ‡é›†åˆï¼Œå¦‚ Goole Material Icons

![](./FILES/eccbc87e/2f749d2c.png)

ç„¶åæœç´¢å…³é”®è¯ search

![](./FILES/eccbc87e/29d49ef3.png)

ç‚¹å‡»ä½ å–œæ¬¢çš„é‚£ä¸ªå›¾æ ‡ï¼Œé¡µé¢ä¼šå‡ºç°æç¤ºä¿¡æ¯

![](./FILES/eccbc87e/3e322951.png)

æˆ‘ä»¬åœ¨ Uno ä¸­ä½¿ç”¨ class="ic:sharp-search"ï¼Œå°±ä¼šè‡ªåŠ¨å¼•ç”¨è¿™ä¸ªå›¾æ ‡ï¼Œéå¸¸æ–¹ä¾¿ã€‚

ä¸‹é¢å¼€å§‹å¼•å…¥è¿™ä¸ªåŠŸèƒ½ã€‚

é¦–å…ˆåœ¨ Unocss æ’ä»¶ä¸­æ·»åŠ  presetIcons é¢„è®¾ï¼Œä¿®æ”¹ config/unocss.ts å†…å®¹å¦‚ä¸‹ï¼š

```typescript
import { presetUno, presetAttributify, presetIcons } from "unocss";

export default () =>
  Unocss({
    safelist,
    presets: [presetUno(), presetAttributify(), presetIcons()],
  });
```

ä¸ºäº†èƒ½å¤Ÿåœ¨ UnoCSS ä¸­ä½¿ç”¨å˜é‡å®šä¹‰å­—ä½“å›¾æ ‡ï¼Œéœ€è¦å°†ä½¿ç”¨çš„å›¾æ ‡ååŠ å…¥åˆ° safelist ä¸­ï¼Œç»§ç»­ä¿®æ”¹ config/unocss.ts ï¼Œå¢åŠ  safelist é…ç½®ï¼š

```typescript
const safelist = [
  ...[
    "search",
    "edit",
    "check",
    "message",
    "star-off",
    "delete",
    "add",
    "share",
  ].map((v) => `i-ic-baseline-${v}`),
];
```

å®Œæ•´çš„ config/unocss.ts å¦‚ä¸‹ï¼š

```typescript :collapsed-lines=8
import { presetUno, presetAttributify, presetIcons } from "unocss";
import Unocss from "unocss/vite";

const colors = [
  "white",
  "black",
  "gray",
  "red",
  "yellow",
  "green",
  "blue",
  "indigo",
  "purple",
  "pink",
];
const safelist = [
  ...colors.map((v) => `bg-${v}-100`),
  ...colors.map((v) => `bg-${v}-400`),
  ...colors.map((v) => `bg-${v}-500`),
  ...colors.map((v) => `hover:bg-${v}-100`),
  ...colors.map((v) => `hover:bg-${v}-300`),
  ...colors.map((v) => `hover:bg-${v}-400`),
  ...colors.map((v) => `hover:bg-${v}-500`),
  ...colors.map((v) => `border-${v}-400`),
  ...colors.map((v) => `border-${v}-500`),
  ...colors.map((v) => `text-${v}-500`),
  ...colors.map((v) => `hover:text-${v}-500`),
  "text-white",
  ...Array.from({ length: 8 }, (_, i) => `px-${i + 1}`),
  ...Array.from({ length: 8 }, (_, i) => `py-${i + 1}`),
  ...["xs", "sm", "base", "lg", "xl", "2xl", "3xl"].map((v) => `text-${v}`),
  ...["rounded-full", "rounded-lg"],
  ...[
    "search",
    "edit",
    "check",
    "message",
    "star-off",
    "delete",
    "add",
    "share",
  ].map((v) => `i-ic-baseline-${v}`),
];

export default () =>
  Unocss({
    safelist,
    presets: [presetUno(), presetAttributify(), presetIcons()],
  });
```

æœ€ååœ¨ button/index.tsx ä¸­æ·»åŠ å›¾æ ‡å±æ€§ï¼Œå¹¶åœ¨æ’æ§½å¼•å…¥å­—ä½“å›¾æ ‡ï¼š

```typescript :collapsed-lines=8
import { defineComponent, PropType } from "vue";
import "uno.css";

export type ISize = "small" | "medium" | "large";
export type IColor =
  | "black"
  | "gray"
  | "red"
  | "yellow"
  | "green"
  | "blue"
  | "indigo"
  | "purple"
  | "pink";

export const props = {
  size: {
    type: String as PropType<ISize>,
    default: "medium",
  },

  color: {
    type: String as PropType<IColor>,
    default: "blue",
  },

  round: {
    type: Boolean,
    default: false,
  },

  plain: {
    type: Boolean,
    default: false,
  },

  icon: {
    type: String,
    default: "",
  },
} as const;

export default defineComponent({
  name: "SButton",
  props,
  setup(props, { slots }) {
    const size = {
      small: {
        x: "2",
        y: "1",
        text: "sm",
      },
      medium: {
        x: "3",
        y: "1.5",
        text: "base",
      },
      large: {
        x: "4",
        y: "2",
        text: "lg",
      },
    };

    return () => (
      <button
        class={`
          py-${size[props.size].y}
          px-${size[props.size].x}
          ${props.round ? "rounded-full" : "rounded-lg"}
          bg-${props.color}-${props.plain ? "100" : "500"}
          hover:bg-${props.color}-400
          border-${props.color}-${props.plain ? "500" : "500"}
          cursor-pointer
          border-solid
          text-${props.plain ? props.color + "-500" : "white"}
          text-${size[props.size].text}
          hover:text-white
          transition duration-300 ease-in-out transform hover:scale-105
          mx-1
          `}
      >
        {props.icon !== "" ? (
          <i class={`i-ic-baseline-${props.icon} p-3`}></i>
        ) : (
          ""
        )}
        {slots.default ? slots.default() : ""}
      </button>
    );
  },
});
```

åœ¨ src/index.ts çš„æŒ‰é’®ä¸­åŠ å…¥å­—ä½“å›¾æ ‡æ ·å¼ï¼š

```typescript :collapsed-lines=8
import { createApp } from "vue/dist/vue.esm-browser";
import SSYUI from "./entry";
createApp({
  template: `
      <div style="margin-bottom:20px;">
        <SButton color="blue">ä¸»è¦æŒ‰é’®</SButton>
        <SButton color="green">ç»¿è‰²æŒ‰é’®</SButton>
        <SButton color="gray">ç°è‰²æŒ‰é’®</SButton>
        <SButton color="yellow">é»„è‰²æŒ‰é’®</SButton>
        <SButton color="red">çº¢è‰²æŒ‰é’®</SButton>
      </div>
      <div style="margin-bottom:20px;">
          <SButton color="blue" plain>æœ´ç´ æŒ‰é’®</SButton>
          <SButton color="green" plain>ç»¿è‰²æŒ‰é’®</SButton>
          <SButton color="gray" plain>ç°è‰²æŒ‰é’®</SButton>
          <SButton color="yellow" plain>é»„è‰²æŒ‰é’®</SButton>
          <SButton color="red" plain>çº¢è‰²æŒ‰é’®</SButton>
      </div>
      <div style="margin-bottom:20px;">
          <SButton size="small" plain>å°æŒ‰é’®</SButton>
          <SButton size="medium" plain>ä¸­æŒ‰é’®</SButton>
          <SButton size="large" plain>å¤§æŒ‰é’®</SButton>
      </div>
      <div style="margin-bottom:20px;">
          <SButton color="blue" round plain icon="search">æœç´¢æŒ‰é’®</SButton>
          <SButton color="green" round plain icon="edit">ç¼–è¾‘æŒ‰é’®</SButton>
          <SButton color="gray" round plain icon="check">æˆåŠŸæŒ‰é’®</SButton>
          <SButton color="yellow" round plain icon="message">æç¤ºæŒ‰é’®</SButton>
          <SButton color="red" round plain icon="delete">åˆ é™¤æŒ‰é’®</SButton>
      </div>
      <div style="margin-bottom:20px;">
        <SButton color="blue" round plain icon="search"></SButton>
        <SButton color="green" round plain icon="edit"></SButton>
        <SButton color="gray" round plain icon="check"></SButton>
        <SButton color="yellow" round plain icon="message"></SButton>
      </div>
    `,
})
  .use(SSYUI)
  .mount("#app");
```

è¿è¡Œæ•ˆæœï¼š

![](./FILES/eccbc87e/2075d62f.png)

### Build æ—¶å•ç‹¬å¯¼å‡º CSS

åœ¨ vite.config.ts ä¸­çš„ build éƒ¨åˆ†ï¼Œå°†ç¼–è¯‘é€‰é¡¹ cssCodeSplit é…ç½®ä¸º trueã€‚cssCodeSplit è¿™ä¸ªé€‰é¡¹æ˜¯ä¸ºäº†å†³å®šåœ¨ç¼–è¯‘çš„æ—¶å€™æ˜¯å¦è¦ç‹¬ç«‹è¾“å‡º cssã€‚

```typescript
build: {
  rollupOptions,
  minify: false,
  cssCodeSplit: true,
  lib: {
    entry: "./src/entry.ts",
    name: "SSYUI",
    fileName: "ssy-ui",
    formats: ["esm", "umd", "iife"],
  },
},
```

æ‰§è¡Œ pnpm build ï¼Œåœ¨ dist ç›®å½•å¯ä»¥å¾—åˆ°æ„å»ºçš„äº§å‡ºç‰©ã€‚

![](./FILES/eccbc87e/0257131c.png)

åœ¨ demo/esm/index.html ä¸­ï¼Œè°ƒç”¨ä¹‹å‰æ„å»ºç”Ÿæˆçš„ CSS æ–‡ä»¶ ï¼Œå³å¯è®©æ ·å¼ç”Ÿæ•ˆã€‚

```html :collapsed-lines=8
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../../dist/entry.css" />
    <title>index</title>
  </head>

  <body>
    <h1>index</h1>
    <div id="app"></div>

    <script type="module">
      import { createApp } from "vue/dist/vue.esm-bundler.js";

      import { SButton } from "../../dist/ssy-ui.esm.js";

      createApp({
        template: `
          <div style="margin-bottom:20px;">
            <SButton color="blue">ä¸»è¦æŒ‰é’®</SButton>
            <SButton color="green">ç»¿è‰²æŒ‰é’®</SButton>
            <SButton color="gray">ç°è‰²æŒ‰é’®</SButton>
            <SButton color="yellow">é»„è‰²æŒ‰é’®</SButton>
            <SButton color="red">çº¢è‰²æŒ‰é’®</SButton>
        </div>
     `,
      })
        .component(SButton.name, SButton)
        .mount("#app");
    </script>
  </body>
</html>
```

æ‰“å¼€ï¼š[ http://localhost:5173/demo/esm/index.html](http://localhost:5173/demo/esm/index.html) ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š

![](./FILES/eccbc87e/ab984c1a.png)

## å¤ç›˜

æœ¬èŠ‚ä¸»è¦çš„å†…å®¹æ˜¯ä¸ºç»„ä»¶åº“æ·»åŠ æ ·å¼ç³»ç»Ÿã€‚æˆ‘ä»¬æ˜¯é€šè¿‡å¼•å…¥ UnoCSS æ¥å®ç°çš„ã€‚

æ€»ç»“å¦‚ä¸‹ï¼š

1. å¼•å…¥ UnoCSS å®ç°åŸå­åŒ– CSS æ ·å¼ï¼›
2. ä½¿ç”¨å®‰å…¨åˆ—è¡¨å®ç°åœ¨ UnoCSS ä¸­ä½¿ç”¨å˜é‡å®šåˆ¶æ ·å¼ï¼›
3. å¼•å…¥ @unocss/preset-icons é¢„è®¾å®ç°å­—ä½“å›¾æ ‡æŒ‰é’®ï¼›

éšç€æŠ€æœ¯çš„è¿›æ­¥ï¼Œå‡ºç°äº† UnoCSS è¿™æ ·çš„åŸå­åŒ– CSS å¼•æ“ï¼Œå¯ä»¥è®©æˆ‘ä»¬ç±»å‹ç³»ç»Ÿæ„å»ºå˜å¾—æ›´åŠ è½»æ¾ã€‚UnoCSS é…åˆ JSX è¯­æ³•ä¹Ÿéå¸¸å…·æœ‰å¯è¯»æ€§ã€‚

æœ€åç•™ä¸€äº›æ€è€ƒé¢˜ï¼š

- Tailwind ä¸ UnoCSS çš„å…³ç³» ï¼Ÿ
- æ€æ ·åœ¨ UnoCSS ä¸­ä½¿ç”¨å˜é‡å®šåˆ¶æ ·å¼ ï¼Ÿ
- æ€æ ·åœ¨ UnoCSS ä¸­å¼•å…¥å­—ä½“å›¾æ ‡ ï¼Ÿ
